webpackJsonp([1],{242:function(t,e,n){"use strict";var i=n(131),a=n(838),r=n(832),s=n.n(r);i.a.use(a.a),e.a=new a.a({routes:[{path:"/vis/:addr/:view",name:"Vis",component:s.a},{path:"/",name:"Vis",component:s.a}]})},243:function(t,e,n){function i(t){n(545)}var a=n(54)(n(245),n(836),i,null,null);t.exports=a.exports},245:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app",mounted:function(){},beforeDestroy:function(){}}},246:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(48);e.default={name:"gauge",props:["value","width","height","title","unit"],data:function(){return{margin:10,border:20}},computed:{hashrate:function(){return Math.round(1e4*this.value)/1e4},transform:function(){return"translate("+this.width/2+", "+(this.height/2+this.margin)+")"},angle:function(){return Math.random()},arc:function(){return n.i(i.a)().innerRadius(this.width/2-this.margin-this.border).outerRadius(this.width/2-this.margin).startAngle(.8*-Math.PI).endAngle(.8*Math.PI-this.angle)()},backgroundArc:function(){return n.i(i.a)().innerRadius(this.width/2-this.margin-this.border).outerRadius(this.width/2-this.margin).startAngle(.8*-Math.PI).endAngle(.8*Math.PI)()}}}},247:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(48),a=n(251),r=n(250);e.default={name:"linechart",props:["data","width","height","margin","title"],components:{Axisright:a.a,Axisbottom:r.a},computed:{extentX:function(){return n.i(i.b)(this.data,function(t){return t.date})},scaleX:function(){return n.i(i.c)().range([0,this.width-this.margin.left-this.margin.right]).domain(this.extentX)},extentY:function(){return n.i(i.b)(this.data,function(t){return t.value})},scaleY:function(){return n.i(i.d)().range([0,this.height-this.margin.top-this.margin.bottom]).domain([this.extentY[1],0])},linePath:function(){var t=this;return n.i(i.e)().x(function(e){return t.scaleX(e.date)}).y(function(e){return t.scaleY(e.value)})(this.data)},transform:function(){return"translate("+this.margin.left+", "+this.margin.top+")"}}}},248:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"panel",props:["value","width","height","title","unit"],computed:{}}},249:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(n(48),n(830)),a=n.n(i),r=n(829),s=n.n(r),u=n(831),o=n.n(u),c=n(130),l=n.n(c),h=function(t){return new Date(1e3*t)};e.default={name:"vis",components:{Linechart:a.a,Gauge:s.a,Panel:o.a},data:function(){return{url:"https://api.nanopool.org/v1/zec",polling:!1,pollingTime:1e4}},subscriptions:function(){var t=this;return{timepoll:l.a.Observable.timer(0,this.pollingTime).takeWhile(function(e){return!!t.polling||0===e}).map(function(t){return+new Date}),lastblocknumber:this.reactivelyFetchData(function(){return t.url+"/network/lastblocknumber/?"+t.timepoll}),lastblocks:this.reactivelyFetchData(function(){return t.url+"/blocks/"+t.lastblocknumber+"/10"}),history:this.reactivelyFetchData(function(){return t.url+"/history/"+t.addr+"?"+t.timepoll}).map(function(t){return t.sort(function(t,e){return t.date-e.date}),t.map(function(t){return{date:h(t.date),value:t.hashrate}})}),user:this.reactivelyFetchData(function(){return t.url+"/user/"+t.addr+"?"+t.timepoll}),payments:this.reactivelyFetchData(function(){return t.url+"/payments/"+t.addr+"?"+t.timepoll}),avgblocktime:this.reactivelyFetchData(function(){return t.url+"/network/avgblocktime?"+t.timepoll}),prices:this.reactivelyFetchData(function(){return t.url+"/prices?"+t.timepoll}),totalpayout:this.$watchAsObservable(function(){return t.payments}).pluck("newValue").map(function(t){return t.reduce(function(t,e){return t+e.amount},0)}).map(function(e){return e*t.prices.price_eur})}},computed:{addr:function(){return this.$route.params.addr||"t1brhGiJhFEj2vnxN8gSrxLdokjgJLzSpsU"},view:function(){return this.$route.params.view||"graph"}},methods:{reactivelyFetchData:function(t){return this.$watchAsObservable(t).pluck("newValue").switchMap(function(t){return l.a.Observable.fromPromise(fetch(t).then(function(t){return t.json()})).catch(function(t){return console.log("api fetch error",t),l.a.Observable.of({status:!1})})}).filter(function(t){return t.status}).map(function(t){return t.data})}},beforeDestroy:function(){}}},250:function(t,e,n){"use strict";var i=n(48);e.a={name:"axisbottom",props:["scale","width","height","margin"],computed:{axis:function(){return n.i(i.f)(this.scale).tickSize(this.height-this.margin.top-this.margin.bottom)}},render:function(t){return this.$el&&this.draw(),t("g","")},methods:{draw:function(){var t=n.i(i.g)(this.$el).attr("transform","translate(0,"+this.margin.top+")").call(this.axis);t.select(".domain").remove(),t.selectAll("text").attr("dy","1em")}},mounted:function(){this.$forceUpdate()}}},251:function(t,e,n){"use strict";var i=n(48),a=n.i(i.h)(",.2r");e.a={name:"axisright",props:["scale","width","height","margin"],computed:{axis:function(){return n.i(i.i)(this.scale).tickSize(this.width-this.margin.left-this.margin.right).tickFormat(function(t,e){return 0==t?"0 sol/s":a(t)})}},render:function(t){return this.$el&&this.draw(),t("g","")},methods:{draw:function(){var t=n.i(i.g)(this.$el).call(this.axis);t.select(".domain").remove(),t.selectAll("text").attr("dx","1em")}},mounted:function(){this.$forceUpdate()}}},252:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(131),a=n(243),r=n.n(a),s=n(242),u=n(130),o=n.n(u),c=n(244),l=n.n(c);i.a.use(l.a,o.a),i.a.config.productionTip=!1;i.a.prototype.$reactivelyFetchData=function(t){return this.$watchAsObservable(t).pluck("newValue").switchMap(function(t){return o.a.Observable.fromPromise(fetch(t).then(function(t){return t.json()})).catch(function(t){return console.log("api fetch error",t),o.a.Observable.of({status:!1})})}).filter(function(t){return t.status}).map(function(t){return t.data})},new i.a({el:"#app",router:s.a,template:"<App/>",components:{App:r.a}})},542:function(t,e){},543:function(t,e){},544:function(t,e){},545:function(t,e){},546:function(t,e){},829:function(t,e,n){function i(t){n(542)}var a=n(54)(n(246),n(833),i,"data-v-143d925f",null);t.exports=a.exports},830:function(t,e,n){function i(t){n(546)}var a=n(54)(n(247),n(837),i,null,null);t.exports=a.exports},831:function(t,e,n){function i(t){n(543)}var a=n(54)(n(248),n(834),i,"data-v-555a642c",null);t.exports=a.exports},832:function(t,e,n){function i(t){n(544)}var a=n(54)(n(249),n(835),i,"data-v-59089986",null);t.exports=a.exports},833:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"gauge"},[n("h3",[t._v(t._s(t.title))]),t._v(" "),n("svg",{attrs:{width:t.width,height:t.height}},[n("g",{attrs:{transform:t.transform}},[n("path",{staticClass:"backgroundArc",attrs:{d:t.backgroundArc}}),t._v(" "),n("path",{staticClass:"arc",attrs:{d:t.arc}}),t._v(" "),n("text",[t._v(t._s(t.hashrate)+" "+t._s(t.unit))])])])])},staticRenderFns:[]}},834:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"panel"},[n("div",[n("h3",[t._v(t._s(t.title))]),t._v(" "),n("h4",[t._v(t._s(t.value)+" "+t._s(t.unit))])])])},staticRenderFns:[]}},835:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",["graph"===t.view?n("div",[t.history?n("linechart",{attrs:{title:"Hashrate History",width:"1750",height:"900",data:t.history,margin:{top:20,right:80,bottom:30,left:10}}}):t._e()],1):t._e(),t._v(" "),"dashboard"===t.view?n("div",[t.user?n("gauge",{attrs:{title:"Hashrate",width:"200",height:"200",unit:"sol/s",value:t.user.hashrate,max:t.user.avgHashrate.h3}}):t._e(),t._v(" "),n("gauge",{attrs:{title:"windspeed",width:"200",height:"200",unit:"km/s",value:14}}),t._v(" "),t.user?n("panel",{attrs:{title:"account",width:"200",unit:"",value:t.user.account}}):t._e(),t._v(" "),t.user?n("panel",{attrs:{title:"Unconfirmed Balance",width:"200",unit:"zec",value:t.user.unconfirmed_balance}}):t._e(),t._v(" "),t.user?n("panel",{attrs:{title:"Balance",width:"200",unit:"zec",value:t.user.balance}}):t._e(),t._v(" "),t.lastblocknumber?n("panel",{attrs:{title:"last block number",width:"200",unit:"",value:t.lastblocknumber}}):t._e(),t._v(" "),t.avgblocktime?n("panel",{attrs:{title:"avg blocktime",width:"200",unit:"sec",value:t.avgblocktime}}):t._e(),t._v(" "),t.prices?n("panel",{attrs:{title:"zec Price",width:"200",unit:"btc",value:t.prices.price_btc}}):t._e(),t._v(" "),t.prices?n("panel",{attrs:{title:"zec Price",width:"200",unit:"â‚¬",value:t.prices.price_eur}}):t._e(),t._v(" "),t.prices?n("panel",{attrs:{title:"zec Price",width:"200",unit:"$",value:t.prices.price_usd}}):t._e(),t._v(" "),t.payments?n("panel",{attrs:{title:"payouts",width:"200",unit:"",value:t.payments.length}}):t._e(),t._v(" "),t.totalpayout?n("panel",{attrs:{title:"total mined",width:"200",unit:"zec",value:t.totalpayout}}):t._e(),t._v(" "),t.totalpayout?n("panel",{attrs:{title:"total mined",width:"200",unit:"$",value:t.totalpayout}}):t._e()],1):t._e()])},staticRenderFns:[]}},836:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]}},837:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"chart"},[n("h3",[t._v(t._s(t.title))]),t._v(" "),n("svg",{attrs:{width:t.width,height:t.height}},[n("g",[n("axisright",{staticClass:"axis",attrs:{scale:t.scaleY,width:t.width,height:t.height,margin:t.margin}}),t._v(" "),n("axisbottom",{staticClass:"axis axisx",attrs:{scale:t.scaleX,width:t.width,height:t.height,margin:t.margin}}),t._v(" "),n("path",{attrs:{d:t.linePath}})],1)])])},staticRenderFns:[]}}},[252]);
//# sourceMappingURL=app.fab3efab0e8d15a63c99.js.map